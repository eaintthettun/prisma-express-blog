<div class="container my-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>Create New Post</h1>
        <a href="/posts" class="back-to-post-btn">Back to Posts</a>
    </div>

    <form action="/posts" method="POST" class="shadow p-4 p-md-5 rounded">
        <div class="mb-3">
            <label for="categoryId" class="form-label">Category:</label>
            <select name="categoryId" id="categoryId" class="form-select" required>
                <option value="" disabled selected>Select a category</option> <% // Added a default option %>
                <% categories.forEach(category => { %>
                    <option value="<%= category.id %>"><%= category.name %></option>
                <% }) %>
            </select>
        </div>

        <div class="mb-3">
            <label for="title" class="form-label">Title:</label>
            <input type="text" id="title" name="title" class="form-control" placeholder="Enter post title" required>
        </div>

        <div class="mb-3">
            <label for="subtitle" class="form-label">Subtitle:</label>
            <input type="text" id="subtitle" name="subtitle" class="form-control" placeholder="A short description for your post" required>
        </div>

        <div class="mb-3">
            <label for="readTime" class="form-label">Read Time (minutes):</label>
            <input type="number" id="readTime" name="readTime" class="form-control" placeholder="Estimated read time in minutes" min="1" required>
        </div>

        <hr class="my-4">

        <div class="mb-3">
            <label for="postImageUrl" class="form-label">Enter image URL (optional)</label>
            <input type="url" class="form-control" id="postImageUrl" name="imageUrl" placeholder="https://example.com/your-image.jpg">
            <small id="imageUrlHelp" class="form-text text-muted">Provide a direct link to an image.</small>
        </div>

        <div class="mb-4">
            <label for="content" class="form-label">Content:</label>
            <textarea id="content" name="content" rows="15" class="form-control" placeholder="Start writing your post content here..." required></textarea>
        </div>

        <div class="d-grid"> <% // d-grid for a full-width button %>
            <button type="submit" class="btn create-post-btn">Create Post</button>
        </div>
    </form>
</div>